(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),i=n.n(c),o=(n(122),n(167)),s=n(172),l=n(173),u=n(51),d=n(191),j=n(174),b=n(175),f=n(170),O=n(171),p=n(98),h=n.n(p),x="/",m="/filters",v="/files",g=n(14),y=n(2),C=Object(o.a)({listIcon:{color:"white",minWidth:"0px",paddingRight:"10px"},title:{paddingRight:"20px"}}),_=function(){var e=C(),t=Object(g.f)(),n=[{url:x,icon:Object(y.jsx)(h.a,{}),text:"Channels"},{url:m,icon:Object(y.jsx)(f.a,{}),text:"Filters"},{url:v,icon:Object(y.jsx)(O.a,{}),text:"Files"}];return Object(y.jsx)(s.a,{position:"static",children:Object(y.jsxs)(l.a,{children:[Object(y.jsx)(u.a,{variant:"h6",className:e.title,children:"IPTV M3U Viewer"}),n.map((function(n){return Object(y.jsx)("div",{onClick:function(){return t.push(n.url)},children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)(j.a,{className:e.listIcon,children:n.icon}),Object(y.jsx)(b.a,{primary:n.text})]})},n.text)}))]})})},F=n(64),w=n.n(F),k=n(9),N=n(17),I=function(e){return e.app},K=Object(N.a)(I,(function(e){return e.loaded})),W=Object(N.a)(I,(function(e){return e.snakbar})),P=n(188),S=n(18),U=n(47),J=n(38),E=n.n(J),L=n(60),R=n(100),G="files",M="filters",A=n(30),V=Object(N.a)(I,(function(e){return e.fileFilter})),B=Object(N.a)(I,(function(e){return e.files})),T=Object(N.a)(B,V,(function(e,t){if(!t||0===t.length)return e;var n=e.find((function(e){return e.name===t}));return n?[n]:[]})),q=Object(N.a)(I,(function(e){return e.permanentFilter})),Q=Object(N.a)(I,(function(e){return e.usingPermanentFilter})),Z=Object(N.a)(I,(function(e){return e.search})),z=Object(N.a)(I,(function(e){return e.groupFilter})),H=Object(N.a)(z,Z,(function(e,t){var n=[];return t.length>0&&n.push({includeKeywords:t.split(" ")}),e.length>0&&n.push({groupName:e}),n})),D=Object(N.a)(q,H,Q,(function(e,t,n){return n?[].concat(Object(A.a)(e),Object(A.a)(t)):t})),X=Object(N.a)(T,(function(e){return Object.keys(e.reduce((function(e,t){return t.entrys.forEach((function(t){return e[t.groupName]=!0})),e}),{}))})),$=Object(N.a)(T,D,(function(e,t){return e.reduce((function(e,n){return[].concat(Object(A.a)(e),Object(A.a)(function(e,t){var n=t.filter((function(e){return e.groupName})),r=t.filter((function(e){return!e.groupName})),a=r.reduce((function(e,t){return t.excludeKeywords?[].concat(Object(A.a)(e),Object(A.a)(t.excludeKeywords)):e}),[]),c=r.reduce((function(e,t){return t.includeKeywords?[].concat(Object(A.a)(e),Object(A.a)(t.includeKeywords)):e}),[]);return e.filter((function(e){var t=e.name.toLowerCase();if(n.length>0){var r=n.find((function(t){return t.groupName===e.groupName}));if(!r)return!1;if(r.includeKeywords&&r.includeKeywords.length>0&&!r.includeKeywords.every((function(e){return t.includes(e)})))return!1;if(r.excludeKeywords&&r.excludeKeywords.some((function(e){return t.includes(e)})))return!1}return!(c.length>0&&!c.every((function(e){return t.includes(e)})))&&!a.some((function(e){return t.includes(e)}))}))}(n.entrys,t)))}),[])})),Y=Object(N.a)($,(function(e){return Object.keys(e.reduce((function(e,t){return e[t.groupName]=!0,e}),{}))})),ee=n(86),te=function(e,t){return Object(ee.b)(e,t)},ne=function(e){return Object(ee.a)(e)},re=Object(U.a)("files/load",function(){var e=Object(L.a)(E.a.mark((function e(t,n){var r,a,c,i,o,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.name,a=t.data,c=Object(R.parse)(a),i=null,o=B(n.getState()),s=0;case 5:if(i="file:".concat(r).concat(s),o.some((function(e){return e.savedPath===i}))){e.next=8;break}return e.abrupt("break",11);case 8:s++,e.next=5;break;case 11:return te(i,a).catch(console.error),e.abrupt("return",{id:i,name:r,savedPath:i,entrys:c.items.map((function(e){return{groupName:e.group.title,fileName:r,logo:e.tvg.logo,language:e.tvg.language,name:e.name,url:e.url,contry:e.tvg.country}}))});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ae=Object(U.a)("load",Object(L.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(G);case 2:return t=e.sent,e.next=5,ne(M);case 5:return n=e.sent,e.abrupt("return",{files:t?JSON.parse(t):[],filters:n?JSON.parse(n):[]});case 7:case"end":return e.stop()}}),e)})))),ce=function(e,t,n){e.snakbar=Object(S.a)(Object(S.a)({},e.snakbar),{},{open:!0,message:t,severity:n})},ie=function(e){var t=e.excludeKeywords,n=e.includeKeywords,r=e.groupName;return{excludeKeywords:null===t||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})),includeKeywords:null===n||void 0===n?void 0:n.map((function(e){return e.toLowerCase()})),groupName:r}},oe=Object(U.b)({name:"app",initialState:{loaded:!1,fileFilter:"",search:"",usingPermanentFilter:!0,groupFilter:"",permanentFilter:[],files:[],snakbar:{open:!1}},reducers:{snackbarVisibillityChanged:function(e,t){e.snakbar.open=t.payload},snackBarMessagePublished:function(e,t){ce(e,t.payload.message,t.payload.severity)},addFilter:function(e,t){var n=t.payload;e.permanentFilter.push(ie(n)),te(M,JSON.stringify(e.permanentFilter)).catch(console.error)},setSearch:function(e,t){var n=t.payload;e.search=n.toLowerCase()},setGroupNameFilter:function(e,t){var n=t.payload;e.groupFilter=n},deleteFile:function(e,t){var n=t.payload,r=e.files.findIndex((function(e){return e.id===n.id}));-1!==r?(e.files.splice(r,1),te(G,JSON.stringify(e.files)).catch(console.error)):ce(e,"Failed to delete file","error")},modifyFilter:function(e,t){var n=t.payload;e.permanentFilter[n.index]=ie(n.update),te(M,JSON.stringify(e.permanentFilter)).catch(console.error)},deleteFilter:function(e,t){var n=t.payload;e.permanentFilter.splice(n,1)},setUsingPermanentFilter:function(e,t){var n=t.payload;e.usingPermanentFilter=n},setFileFilter:function(e,t){var n=t.payload;e.fileFilter=n}},extraReducers:function(e){e.addCase(re.fulfilled,(function(e,t){var n=t.payload;e.files.push(n),te(G,JSON.stringify(e.files)).catch(console.error)})),e.addCase(re.rejected,(function(e,t){var n=t.error;console.error(n),ce(e,"Failed to load your file","error")})),e.addCase(ae.fulfilled,(function(e,t){var n=t.payload;e.loaded=!0,e.files=n.files,e.permanentFilter=n.filters})),e.addCase(ae.rejected,(function(e,t){var n=t.error;console.error(n),e.loaded=!0,ce(e,"Failed to load the application","error")}))}}),se=oe.actions,le=se.addFilter,ue=se.setSearch,de=se.modifyFilter,je=se.deleteFilter,be=se.deleteFile,fe=se.setGroupNameFilter,Oe=se.setFileFilter,pe=se.snackBarMessagePublished,he=se.snackbarVisibillityChanged,xe=se.setUsingPermanentFilter,me=n(190),ve=function(){var e=Object(k.c)(W),t=e.open,n=e.message,a=e.severity,c=Object(k.b)(),i=Object(r.useCallback)((function(){c(he(!1))}),[c]);return Object(y.jsx)(me.a,{open:t,autoHideDuration:6e3,onClose:i,children:Object(y.jsx)(P.a,{onClose:i,severity:a,children:n})})},ge=function(e){var t=e.children;return Object(y.jsxs)("div",{className:w.a.container,children:[Object(y.jsx)("div",{className:w.a.header,children:Object(y.jsx)(_,{})}),Object(y.jsx)("div",{className:w.a.bodyContainer,children:Object(y.jsx)("div",{className:w.a.contentContainer,children:t})}),Object(y.jsx)(ve,{})]})},ye=n(177),Ce=n(176),_e=n(102),Fe=n.n(_e),we=n(74),ke=n.n(we),Ne=n(101),Ie=n.n(Ne),Ke=n(45),We=n.n(Ke),Pe=function(e){var t=e.file,n=Object(k.b)(),a=Object(r.useCallback)(Object(L.a)(E.a.mark((function e(){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne(t.savedPath);case 3:if(r=e.sent){e.next=6;break}throw new Error("Could not find file data");case 6:Ie()(r,t.name),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(pe({message:"Failed to download file",severity:"error"}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[n,t]),c=Object(r.useCallback)((function(){n(be(t))}),[n,t]);return Object(y.jsxs)(ye.a,{className:We.a.fileCard,children:[Object(y.jsx)("span",{children:t.name}),Object(y.jsx)(Ce.a,{onClick:a,children:Object(y.jsx)(Fe.a,{})}),Object(y.jsx)(Ce.a,{onClick:c,children:Object(y.jsx)(ke.a,{})})]})},Se=n(178),Ue=function(){var e=Object(k.b)(),t=Object(r.useCallback)((function(t){if(t.target.files&&t.target.files[0]){var n=t.target.files[0],r=new FileReader;r.readAsText(n),r.onloadend=function(){var t=r.result;e(t?re({name:n.name,data:t}):pe({message:"Failed to load file",severity:"error"}))}}}),[e]);return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"file",name:"file",onChange:t,accept:".m3u",id:"contained-button-file",className:We.a.fileUploadInput}),Object(y.jsx)("label",{htmlFor:"contained-button-file",children:Object(y.jsx)(Se.a,{variant:"contained",color:"primary",component:"span",children:"Upload File"})})]})},Je=function(){var e=Object(k.c)(B);return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:We.a.filesContainer,children:e.map((function(e){return Object(y.jsx)(Pe,{file:e},e.id)}))}),Object(y.jsx)(Ue,{})]})},Ee=n(179);var Le=function(e){var t=Object.assign({},e);return Object(k.c)(K)?Object(y.jsx)(g.a,Object(S.a)({},t)):Object(y.jsx)(Ee.a,{})},Re=n(76),Ge=n(77),Me=n.n(Ge),Ae=function(e){var t=e.children,n=e.expr,r=e.onElse;return n?Object(y.jsx)(y.Fragment,{children:t}):r||null},Ve=n(103),Be=n.n(Ve),Te=function(e){var t=e.entry,n=Object(k.b)(),a=Object(k.c)(V),c=Object(k.c)(B),i=0===a.length&&c.length>1,o=Object(r.useCallback)((function(){var e=Be()(t.url);n(he(!1)),setTimeout((function(){n(pe({message:e?"Link Copied - ".concat(t.name):"Failed to copy link",severity:e?"success":"error"}))}),0)}),[t,n]);return Object(y.jsxs)(ye.a,{className:Me.a.container,onClick:o,children:[Object(y.jsx)(u.a,{variant:"h6",children:t.name}),Object(y.jsx)(u.a,{children:t.groupName}),Object(y.jsx)(Ae,{expr:i,children:Object(y.jsx)(u.a,{variant:"caption",children:t.fileName})}),Object(y.jsx)("div",{className:Me.a.imageContainer,children:Object(y.jsx)("img",{src:t.logo,className:Me.a.image})})]})},qe=n(87),Qe=n.n(qe),Ze=function(e){var t=e.entrys;return Object(y.jsx)("div",{className:Qe.a.container,children:t.map((function(e){return Object(y.jsx)("div",{className:Qe.a.item,children:Object(y.jsx)(Te,{entry:e},e.url)},e.url)}))})},ze=n(184),He=n(185),De=n(186),Xe=n(181),$e=n(183),Ye=n(192),et=n(182),tt=n(187),nt=n(65),rt=n.n(nt),at=n(75),ct=n.n(at),it=Object(o.a)((function(){return{item:{padding:"0 10px"}}})),ot=function(){var e=it(),t=Object(k.b)(),n=Object(k.c)(Q),a=Object(k.c)(Y),c=Object(k.c)(B),i=Object(r.useCallback)((function(e,n){t(Oe(n?n.name:""))}),[t]),o=Object(r.useCallback)((function(e){t(ue(e.target.value))}),[t]),s=Object(r.useCallback)((function(e,n){t(fe(n||""))}),[t]),l=Object(r.useCallback)((function(){t(xe(!n))}),[t,n]);return Object(y.jsxs)("div",{className:rt.a.container,children:[Object(y.jsx)(De.a,{className:ct()(e.item,rt.a.item),placeholder:"Search...",InputProps:{startAdornment:Object(y.jsx)(Xe.a,{position:"start",children:Object(y.jsx)(et.a,{})})},onChange:o}),Object(y.jsx)(tt.a,{className:rt.a.item,options:a,onChange:s,renderInput:function(e){return Object(y.jsx)(De.a,Object(S.a)(Object(S.a)({},e),{},{label:"Group"}))}}),Object(y.jsx)(tt.a,{className:rt.a.item,options:c,onChange:i,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(y.jsx)(De.a,Object(S.a)(Object(S.a)({},e),{},{label:"File"}))}}),Object(y.jsx)($e.a,{label:"Use filters",labelPlacement:"start",control:Object(y.jsx)(Ye.a,{checked:n,onChange:l})})]})},st=100,lt=function(){var e=Object(r.useState)(0),t=Object(Re.a)(e,2),n=t[0],a=t[1],c=Object(k.c)($),i=Math.floor(c.length/st);return Object(y.jsxs)("div",{children:[Object(y.jsx)(ot,{}),Object(y.jsx)(Ze,{entrys:c.slice(n*st,n*st+st)}),Object(y.jsxs)("div",{children:[Object(y.jsx)(Ce.a,{onClick:function(){return a(n-1)},disabled:0===n,children:Object(y.jsx)(ze.a,{})}),Object(y.jsxs)("span",{children:[n+1,"/",i+1]}),Object(y.jsx)(Ce.a,{onClick:function(){return a(n+1)},disabled:i===n,children:Object(y.jsx)(He.a,{})})]})]})},ut=n(63),dt=n.n(ut),jt=n(50),bt=n(106),ft=n.n(bt),Ot=n(105),pt=n.n(Ot),ht=n(66),xt=n.n(ht),mt=Object(o.a)((function(){return{deleteIcon:{padding:"5px"},inputRoot:{flexWrap:"wrap",minWidth:"300px"},inputInput:{width:"0px",minWidth:"140px",flexGrow:1}}})),vt=function(e){var t=e.words,n=e.onChange,a=e.placeholder,c=e.positive,i=e.negative,o=Object(k.b)(),s=mt(),l=Object(r.useState)(""),u=Object(Re.a)(l,2),d=u[0],j=u[1],b=Object(r.useCallback)((function(){0!==d.length&&(t.includes(d)?o(pe({message:"This word is already in the list",severity:"info"})):(n([].concat(Object(A.a)(t),[d])),j("")))}),[d,t,j,o]),f=Object(r.useCallback)((function(e){n(t.filter((function(t){return t!==e})))}),[n,t]);return Object(y.jsx)("div",{className:xt.a.container,children:Object(y.jsx)(De.a,{variant:"outlined",label:a,placeholder:t.length>0?a:void 0,value:d,onChange:function(e){return j(e.target.value)},InputProps:{classes:{root:s.inputRoot,input:s.inputInput},startAdornment:t.length>0?Object(y.jsx)(y.Fragment,{children:t.map((function(e){var t;return Object(y.jsxs)("div",{className:ct()((t={},Object(jt.a)(t,xt.a.word,!0),Object(jt.a)(t,xt.a.positiveWord,c),Object(jt.a)(t,xt.a.negativeWord,i),t)),children:[Object(y.jsx)("span",{children:e}),Object(y.jsx)(Ce.a,{onClick:function(){return f(e)},className:s.deleteIcon,children:Object(y.jsx)(pt.a,{})})]},e)}))}):void 0,endAdornment:Object(y.jsx)(Xe.a,{position:"end",children:Object(y.jsx)(Ce.a,{onClick:b,children:Object(y.jsx)(ft.a,{})})})}})})},gt=function(e){var t=e.filter,n=e.index,r=Object(k.c)(X),a=Object(k.b)();return Object(y.jsxs)(ye.a,{className:dt.a.filterCard,children:[Object(y.jsx)(vt,{positive:!0,words:t.includeKeywords||[],onChange:function(e){a(de({index:n,update:Object(S.a)(Object(S.a)({},t),{},{includeKeywords:e})}))},placeholder:"Include Keyword"}),Object(y.jsx)(vt,{negative:!0,words:t.excludeKeywords||[],onChange:function(e){a(de({index:n,update:Object(S.a)(Object(S.a)({},t),{},{excludeKeywords:e})}))},placeholder:"Exclude keyword"}),Object(y.jsx)(tt.a,{onChange:function(e,r){return c=r,void a(de({index:n,update:Object(S.a)(Object(S.a)({},t),{},{groupName:c||void 0})}));var c},defaultValue:t.groupName,className:dt.a.groupFilter,options:r,renderInput:function(e){return Object(y.jsx)(De.a,Object(S.a)(Object(S.a)({},e),{},{variant:"outlined",label:"Group Filter (All by default)"}))}}),Object(y.jsx)(Ce.a,{onClick:function(){a(je(n))},children:Object(y.jsx)(ke.a,{})})]})},yt=function(){var e=Object(k.b)(),t=Object(k.c)(q);return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:dt.a.cardsContainer,children:t.map((function(e,t){return Object(y.jsx)(gt,{index:t,filter:e},t)}))}),Object(y.jsx)(Se.a,{onClick:function(){return e(le({}))},variant:"contained",color:"primary",children:"Add Filter"})]})};var Ct=function(){var e=Object(k.c)(K),t=Object(k.b)();return Object(r.useEffect)((function(){e||t(ae())}),[e]),Object(y.jsx)(ge,{children:Object(y.jsxs)(g.c,{children:[Object(y.jsx)(Le,{path:v,component:Je}),Object(y.jsx)(Le,{path:m,component:yt}),Object(y.jsx)(Le,{component:lt})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _t=n(29),Ft=n(62),wt=Object(_t.c)({app:oe.reducer}),kt=Object(_t.e)(wt,Object(_t.a)(Ft.a)),Nt=n(69);i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(k.a,{store:kt,children:Object(y.jsx)(Nt.a,{children:Object(y.jsx)(Ct,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,n){e.exports={fileUploadInput:"Files_fileUploadInput__16_FC",fileCard:"Files_fileCard__mxHpM",filesContainer:"Files_filesContainer__1bFZh"}},63:function(e,t,n){e.exports={filterCard:"Filters_filterCard__2Ihof",cardsContainer:"Filters_cardsContainer__3RLqi",groupFilter:"Filters_groupFilter__1kSlG"}},64:function(e,t,n){e.exports={container:"layout_container__3bi5Z",header:"layout_header__35Um9",bodyContainer:"layout_bodyContainer__Fq1ii",contentContainer:"layout_contentContainer__14EXq"}},65:function(e,t,n){e.exports={container:"QuickFilter_container__38zRh",item:"QuickFilter_item__1hdzQ"}},66:function(e,t,n){e.exports={container:"WordsInput_container__hPZ_6",word:"WordsInput_word__3kGcd",positiveWord:"WordsInput_positiveWord__2dsMo",negativeWord:"WordsInput_negativeWord__17LBE"}},77:function(e,t,n){e.exports={container:"entry_container__2wNOg",rowContainer:"entry_rowContainer__3bdrh",fileContainer:"entry_fileContainer__2Jra1",image:"entry_image__2lK1p",imageContainer:"entry_imageContainer__3972N"}},87:function(e,t,n){e.exports={container:"entrys_container__3wrUf",item:"entrys_item__2Vl1j"}}},[[135,1,2]]]);
//# sourceMappingURL=main.a3a7ea65.chunk.js.map